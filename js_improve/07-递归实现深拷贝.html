<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>递归实现深拷贝</title>
  </head>
  <body></body>
  <script>
    // 定义两个对象
    let a = {
      name: '小明',
      age: 18,
      hobby: ['唱歌', '玩游戏'],
      brother: {
        name: '小黑',
        age: 19
      }
    }
    let b = {}
    // 定义深拷贝函数
    function deepCopy(newObject, oldObject) {
      // 1.遍历旧对象
      // key是对象里面的属性名
      for (let key in oldObject) {
        // 如果对象里面包含数组，则对数组进行循环（递归）
        if (oldObject[key] instanceof Array) {
          newObject[key] = []
          deepCopy(newObject[key], oldObject[key])
        } // 如果对象里面包含对象，则对对象进行循环（递归）
        else if (oldObject[key] instanceof Object) {
          newObject[key] = {}
          deepCopy(newObject[key], oldObject[key])
        } else {
          newObject[key] = oldObject[key]
        }
      }
    }
    deepCopy(b, a)
    a.age = 20
    a.brother.name = '熊'
    console.log(a)
    console.log(b)
  </script>
</html>
