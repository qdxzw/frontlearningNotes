<!DOCTYPE html>
<html>
  <head>
    <title>用户登录</title>
  </head>
  <body>
    <div style="text-align: center">
      <form action="login" method="post" id="loginForm" autocomplete="off">
        姓名：<input
          type="text"
          name="uname"
          value="`${messageModel.object.userName}`"
        />
        <br />
        密码：<input
          type="password"
          name="upwd"
          value="`${messageModel.object.userPwd}`"
        />
        <br />
        <span id="msg" style="font-size: 12px; color: red"
          >`${messageModel.msg}`</span
        ><br />
        <button type="button" class="loginBtn">登录</button>
        <button type="button" class="registerBtn">注册</button>
      </form>
    </div>
    <script>
      // 1.给登录按钮绑定点击事件
      const loginBtn = document.querySelector('.loginBtn')
      const loginName = document.querySelector('input[name="uname"]')
      const loginPwd = document.querySelector('input[name="upwd"]')
      const msg = document.querySelector('#msg')
      const loginForm = document.querySelector('#loginForm')
      const registerBtn = document.querySelector('.registerBtn')
      loginBtn.addEventListener('click', function () {
        // 2.获取用户姓名和密码的值
        // 3.判断姓名是否为空
        // 如果姓名为空，提示用户（span标签赋值），并且return
        // 4.判断密码是否为空
        // 如果密码为空，提示用户（span标签赋值），并且return
        // 5.如果都不能空，则手动提交表单
        if (!loginName.value.trim()) {
          msg.innerHTML = '请输入姓名'
          return
        } else {
          msg.innerHTML = ''
        }
        if (!loginPwd.value.trim()) {
          msg.innerHTML = '请输入密码'
          return
        } else {
          msg.innerHTML = ''
        }
        loginForm.submit()
      })
      registerBtn.addEventListener('click', function () {
        location.href = '用户注册.html'
      })
    </script>
  </body>
</html>
